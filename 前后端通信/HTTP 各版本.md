# HTTP 各版本


## HTTP/1.0 和 HTTP/1.1 有什么区别

### 长连接

HTTP/1.1 支持长连接和管道化连接，在一个 TCP 连接上可以传送多个 HTTP 请求，避免了因为多次建立 TCP 连接的时间消耗和延时

### 新增缓存字段

HTTP/1.1 新增了 ETag、If-Unmodified-Since、If-Match 、If-None-Match 等新的请求头来控制缓存

### 带宽优化以及网络连接的使用

HTTP/1.1 在请求头中引入了 range，支持断点续传的功能


## HTTP/1.1 和 HTTP/2.0 有什么区别

### 二进制分帧

HTTP/2 采用二进制格式传输数据，而非 HTTP/1.x 的文本格式，二进制协议解析起来更高效。

### 头部压缩

HTTP/1.x 会在请求和响应中重复地携带不常改变的、冗长的头部数据，给网络带来额外的负担。

HTTP/2 在客户端和服务端使用 “首部表” 来跟踪和存储之前发送的键值对，对于相同的数据，不再通过每次请求和响应发送；

你可以理解为传输前查询首部表，只发送差异数据，而不是全部数据，从而减少头部的信息量。

### 服务端推送

服务端可以在发送 HTML 时主动推送其他资源，而不是等浏览器解析到相应位置，发起请求再响应。

### 多路复用

HTTP/1.x 中，如果想并发多个请求，必须使用多个 TCP 连接。但浏览器为了控制资源，还会对单个域名有 6-8 个TCP 连接的请求限制，同时当带宽不足时，多个 tcp 还会出现竞争带宽的情况。

HTTP/2 中同域名下所有通信都在单个 tcp 连接中完成，单个 tcp 连接可以承载任意数量的双向数据流