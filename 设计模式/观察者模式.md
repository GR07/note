你不会观察者模式，你还配做前端吗？

# 观察者模式

观察者模式包含发布订阅模式

vue 就是 观察者模式，观察数据，数据发生变化时，通知所有观察者，更新视图

## 观察者模式

+ 观察者

+ 被观察者

+ 被观察者里面存放很多观察者

```js
// 被观察者
function BeLook() {
    this.state = '状态好';
    this.arr = []; // 存放观察者的数组
}

BeLook.prototype.add = function (look) {
    this.arr.push(look)
}

BeLook.prototype.setState = function (newState) {
    this.state = newState;
    this.arr.forEach(c => c.update(newState))
}

// 观察者
function Look(who) {
    this.name = who;
}

Look.prototype.update = function (state) {
    console.log(`${this.name}-----当前${state}`);
}


const look1 = new Look('1号观察者')
const look2 = new Look('2号观察者')

const be = new BeLook()

be.add(look1)
be.add(look2)


be.setState('状态差！')
be.setState('状态差！123')
```