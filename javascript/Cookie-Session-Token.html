<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cookie / sessionStorage / localStorage的区别</title>
</head>
<body>
  <script>

    /**
     * Cookie: 仅仅是浏览器实现的一种数据存储功能。
     * 
     * cookie 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上
     */







    /**
     * Session：是基于 cookie 实现的，session 存储在服务器端，sessionId 会被存储到客户端的cookie 中。
     * 
     * 客户端每次向服务器发请求的时候，都带上cookie，sessionId就在cookie中 。
     * 
     * 服务器使用session把用户的信息临时保存在了服务器上，用户离开网站后session会被销毁。
     */

    // session 认证流程：
    
    // 用户第一次请求服务器的时候，服务器根据用户提交的相关信息，创建对应的 Session。

    // 请求返回时将此 Session 的唯一标识信息 SessionID 返回给浏览器。

    // 浏览器接收到服务器返回的 SessionID 信息后，会将此信息存入到本地 Cookie 中。

    // 当用户第二次访问服务器的时候，自动将 Cookie 信息也发送给服务端，服务端会从 Cookie 中获取 SessionID，再根据 SessionID 查找对应的 Session 信息。

    // SessionID 是连接 Cookie 和 Session 的一道桥梁，大部分系统也是根据此原理来验证用户登录状态。








    /**
     * Token：访问资源接口时所需要的凭证。
     * 
     * 简单 token 的组成：uid(用户唯一的身份标识)、time(当前时间的时间戳)、sign（签名，token 的前几位以哈希算法压缩成的一定长度的十六进制字符串）
     * 
     * Token: 1.无状态、可扩展 2.支持移动设备 3.跨程序调用 4.安全
     *
     * 过程:
     * 1.客户端使用用户名跟密码请求登录
     * 2.服务端收到请求，去验证用户名与密码
     * 3.验证成功后，服务端会签发一个 token 并把这个 token 发送给客户端
     * 4.客户端收到 token 以后，会把它存储起来，比如放在 cookie 里或者 localStorage 里
     * 5.客户端每次向服务端请求资源的时候需要带着 token （需要把 token 放到 HTTP 的 Header 里）
     * 6.服务端收到请求，验证 token ，如果验证成功，就向客户端返回请求的数据
     * 
     * 
     * 对比session优点：
     * 
     * 基于 token 的用户认证是一种服务端无状态的认证方式，服务端不用存放 token 数据。
     * 用解析 token 的计算时间换取 session 的存储空间，
     * 从而减轻服务器的压力，减少频繁的查询数据库，
     * token 完全由应用管理，所以它可以避开同源策略。
     *
     *
     *
     */



  </script>
</body>
</html>