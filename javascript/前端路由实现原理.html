<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>前端路由的两种实现原理</title>
</head>
<body>
  https://segmentfault.com/a/1190000006879700

  https://juejin.im/post/5c4528a6f265da611a4822cc

  <script>
    // 掘金地址：https://juejin.im/post/5c380afde51d4552232fb077

    // 1.Hash模式

    // window对象提供了onhashchange事件来监听hash值的改变,一旦url中的hash值发生改变,便会触发该事件。
    window.onhashchange = function(){
    
        // hash 值改变 
        
        // do you want
        window.location.hash = 123.com;
    }


    // 2.History 模式

    // History 对象是 window 对象的一部分，可通过 window.history 属性对其进行访问。
    // window.history.back()  前一个页面
    // window.history.forward() 下一个页面
    // window.history.go()  跳转到指定页面


    window.history.pushState(null, null, "a")
    // 向历史记录的顶层追加一条记录 /a 相对路径 
    // 并把当前页面的 url 改为 /a 相对路径。


    window.history.replaceState(null, null, "a")
    // 替换当前页在历史记录中的信息为 /a 相对路径，
    // 并把当前页面的 url 改为 /a 相对路径。


    window.onpopstate
    // 该事件会在调用浏览器的前进、后退以及
    // 执行history.forward、history.back、和history.go触发
    
    window.onpopstate = function(){
        // 历史栈 信息改变
        // do you want
        window.location.hash = 123.com;
    }



    // 两种模式优劣对比

    // 对比       Hash          History
    // 观赏性     丑            美
    // 兼容性     >ie8          >ie10
    // 实用性     直接使用      需后端配合
    // 命名空间   同一document  同源



    // history模式404

    // 当我们使用history模式时，如果没有进行配置,刷新页面会出现404。

    // 原因是因为history模式的url是真实的url,服务器会对url的文件路
    
    historyApiFallback: true,
    // 在开发单页应用时非常有用，它依赖于HTML5 history API，如果设置为true，所有的跳转将指向index.html (解决histroy mode 404)

    

  </script>
  
</body>
</html>